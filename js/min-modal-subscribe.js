const contactsBtn=document.querySelector(".contacts-btn"),modalSubsribe=document.querySelector(".modal-subscribe"),overlay=document.querySelector(".overlay"),subsribeClose=document.querySelector(".subscribe-close"),subscribeForm=document.querySelector(".subscribe-form"),inputEmail=document.querySelector(".input-email"),inputAbout=document.querySelector(".input-about");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}contactsBtn.addEventListener("click",function(e){e.preventDefault(),overlay.classList.add("overlay-show"),modalSubsribe.classList.add("modal-subscribe-show"),storage?(inputEmail.value=storage,inputAbout.focus()):inputEmail.focus()}),subsribeClose.addEventListener("click",function(e){e.preventDefault(),overlay.classList.remove("overlay-show"),modalSubsribe.classList.remove("modal-subscribe-show"),modalSubsribe.classList.remove("modal-subscribe-error")}),subscribeForm.addEventListener("submit",function(e){inputEmail.value&&inputAbout.value?isStorageSupport&&localStorage.setItem("email",inputEmail.value):(e.preventDefault(),modalSubsribe.classList.remove("modal-subscribe-error"),modalSubsribe.offsetWidth=modalSubsribe.offsetWidth,modalSubsribe.classList.add("modal-subscribe-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalSubsribe.classList.contains("modal-subscribe-show")&&(e.preventDefault(),modalSubsribe.classList.remove("modal-subscribe-show"),overlay.classList.remove("overlay-show"),modalSubsribe.classList.add("modal-subscribe-error"))});
